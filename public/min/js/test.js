"use strict";var firebaseConfig={apiKey:"AIzaSyA1v-8vqcbl-kvKKUybHKQkJdimDNs2Ykk",authDomain:"vue-demo-92774.firebaseapp.com",databaseURL:"https://vue-demo-92774.firebaseio.com",projectId:"vue-demo-92774",storageBucket:"vue-demo-92774.appspot.com",messagingSenderId:"293558852778",appId:"1:293558852778:web:e0b38cd9525f765ba6c4d3"},defaultProject=firebase.initializeApp(firebaseConfig),db=firebase.firestore();testDocRef=db.collection("cities").doc("test"),testDocRef.set({name:"test-city",state:"TW",country:"Tapei"}),testDocRef.update({state:"Japan"});var frankDocRef=db.collection("users").doc("frank");frankDocRef.set({name:"Frank",favorites:{food:"Pizza",color:"Blue",subject:"recess"},age:12}),db.collection("users").doc("frank").update({age:13,"favorites.color":"Red"}).then(function(){console.log("Document successfully updated!")}),testDocRef.update({aa:[1,3],regions:firebase.firestore.FieldValue.arrayUnion("east_coast","greater_virginia","ajsdflksjf")}),testDocRef.update({regions:firebase.firestore.FieldValue.arrayRemove("east_coast")}),testDocRef.update({population:firebase.firestore.FieldValue.increment(5)}),testDocRef.update({population:0}),db.runTransaction(function(o){return o.get(testDocRef).then(function(e){if(!e.exists)throw"Document does not exist!";var t=e.data().population+1;return t<=1e6?(o.update(testDocRef,{population:t}),t):Promise.reject("Sorry! Population is too big.")})}).then(function(e){console.log("Population increased to ",e)}).catch(function(e){console.error(e)});var batch=db.batch(),nycRef=db.collection("cities").doc("NYC");batch.set(nycRef,{name:"New York City"});var sfRef=db.collection("cities").doc("SF");batch.update(sfRef,{population:1e6});var laRef=db.collection("cities").doc("LA");batch.delete(laRef),batch.commit().then(function(){console.log("Batch success")}),db.collection("cities").doc("DC").delete().then(function(){console.log("Document successfully deleted!")}).catch(function(e){console.error("Error removing document: ",e)}),testDocRef.update({capital:firebase.firestore.FieldValue.delete()}),citiesRef=db.collection("cities"),citiesRef.doc("SF").set({name:"San Francisco",state:"CA",country:"USA",capital:!1,population:3e4,regions:["west_coast","norcal"]}),citiesRef.doc("LA").set({name:"Los Angeles",state:"CA",country:"USA",capital:!1,population:1e5,regions:["west_coast","socal"]}),citiesRef.doc("DC").set({name:"Washington, D.C.",state:null,country:"USA",capital:!0,population:6e4,regions:["east_coast"]}),citiesRef.doc("TOK").set({name:"Tokyo",state:null,country:"Japan",capital:!0,population:9e6,regions:["kanto","honshu"]}),citiesRef.doc("BJ").set({name:"Beijing",state:null,country:"China",capital:!0,population:215e5,regions:["jingjinji","hebei"]});var getOptions={source:"cache"};db.collection("cities").doc("SF").onSnapshot(function(e){console.log("update data, current: ",e.data())}),db.collection("cities").doc("SF").onSnapshot(function(e){var t=e.metadata.hasPendingWrites?"Local":"Server";console.log(t," data: ",e.data())}),db.collection("cities").where("state","==","CA").onSnapshot(function(e){var t=[];e.forEach(function(e){t.push(e.data().name)}),console.log("Current cities in CA: ",t.join(", "))}),db.collection("cities").where("state","==","CA").onSnapshot(function(e){e.docChanges().forEach(function(e){"added"===e.type&&console.log("New city: ",e.doc.data()),"modified"===e.type&&console.log("Modified city: ",e.doc.data()),"removed"===e.type&&console.log("Removed city: ",e.doc.data())})});var unsubscribe=db.collection("cities").onSnapshot(function(){});unsubscribe(),db.collection("cities").onSnapshot(function(e){},function(e){}),citiesRef.where("state","==","CA"),citiesRef.where("population","<",1e5),citiesRef.where("name",">=","San Francisco"),citiesRef.where("regions","array-contains","west_coast"),citiesRef.where("state","==","CO").where("name","==","Denver"),citiesRef.where("state","==","CA").where("population","<",1e6),citiesRef.orderBy("name").limit(3),citiesRef.orderBy("name","desc").limit(3),citiesRef.orderBy("state").orderBy("population","desc"),citiesRef.where("population",">",1e5).orderBy("population").limit(2),citiesRef.orderBy("population").startAt(6e4).get().then(function(e){e.forEach(function(e){console.log("startAt",e.data().population)})}),citiesRef.orderBy("population").endAt(6e4).get().then(function(e){e.forEach(function(e){console.log("endAt",e.data().population)})});var first=citiesRef.orderBy("population").limit(2);first.get().then(function(e){var t=e.docs[e.docs.length-1];console.log("last",t),db.collection("cities").orderBy("population").startAfter(t).limit(2).get().then(function(e){e.forEach(function(e){console.log("next",e.data().population)})})}),db.collection("cities").orderBy("name").orderBy("state").startAt("Tepei"),db.collection("cities").orderBy("name").orderBy("state").startAt("Tepei","Missouri");